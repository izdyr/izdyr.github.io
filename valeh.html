<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valeh School - Study Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-shadow {
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .badge-glow {
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.3);
        }
        .progress-ring {
            transform: rotate(-90deg);
        }
        .study-session {
            transition: all 0.3s ease;
        }
        .study-session:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header -->
    <header class="gradient-bg text-white p-6 shadow-lg">
        <div class="max-w-6xl mx-auto flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center">
                    <span class="text-blue-600 font-bold text-lg">V</span>
                </div>
                <div>
                    <h1 class="text-2xl font-bold">Valeh School</h1>
                    <p class="text-blue-100 text-sm">Study Tracker Platform</p>
                </div>
            </div>
            <div class="text-right">
                <p class="text-sm text-blue-100">Welcome back!</p>
                <p class="font-semibold">Student Dashboard</p>
            </div>
        </div>
    </header>

    <div class="max-w-6xl mx-auto p-6">
        <!-- Stats Overview -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-xl p-6 card-shadow">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">This Week</p>
                        <p class="text-2xl font-bold text-blue-600" id="weeklyHours">12.5h</p>
                    </div>
                    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                        üìö
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-6 card-shadow">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">Subjects</p>
                        <p class="text-2xl font-bold text-green-600" id="subjectCount">5</p>
                    </div>
                    <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                        üìñ
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-6 card-shadow">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">Progress</p>
                        <p class="text-2xl font-bold text-purple-600" id="progressPercent">78%</p>
                    </div>
                    <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                        üéØ
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-6 card-shadow">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">Streak</p>
                        <p class="text-2xl font-bold text-orange-600" id="streak">7 days</p>
                    </div>
                    <div class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center">
                        üî•
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Weekly Plan Section -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-xl p-6 card-shadow mb-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-bold text-gray-800">üìÖ Weekly Study Plan</h2>
                        <button onclick="showPlanModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                            + Add Plan
                        </button>
                    </div>
                    
                    <div class="grid grid-cols-7 gap-2 mb-4">
                        <div class="text-center text-sm font-medium text-gray-500 p-2">Mon</div>
                        <div class="text-center text-sm font-medium text-gray-500 p-2">Tue</div>
                        <div class="text-center text-sm font-medium text-gray-500 p-2">Wed</div>
                        <div class="text-center text-sm font-medium text-gray-500 p-2">Thu</div>
                        <div class="text-center text-sm font-medium text-gray-500 p-2">Fri</div>
                        <div class="text-center text-sm font-medium text-gray-500 p-2">Sat</div>
                        <div class="text-center text-sm font-medium text-gray-500 p-2">Sun</div>
                    </div>
                    
                    <div class="grid grid-cols-7 gap-2" id="weeklyCalendar">
                        <!-- Calendar will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Study Log Section -->
                <div class="bg-white rounded-xl p-6 card-shadow">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-bold text-gray-800">üìù Study Log</h2>
                        <button onclick="showLogModal()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                            + Log Session
                        </button>
                    </div>
                    
                    <div class="space-y-3" id="studyLog">
                        <!-- Study sessions will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Progress & Charts Section -->
            <div class="space-y-6">
                <!-- Progress Circle -->
                <div class="bg-white rounded-xl p-6 card-shadow text-center">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">Weekly Goal Progress</h3>
                    <div class="relative w-32 h-32 mx-auto mb-4">
                        <svg class="w-32 h-32 progress-ring">
                            <circle cx="64" cy="64" r="56" stroke="#e5e7eb" stroke-width="8" fill="none"/>
                            <circle cx="64" cy="64" r="56" stroke="#3b82f6" stroke-width="8" fill="none" 
                                    stroke-dasharray="351.86" stroke-dashoffset="77.4" stroke-linecap="round"/>
                        </svg>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="text-2xl font-bold text-blue-600">78%</span>
                        </div>
                    </div>
                    <p class="text-gray-600">12.5h / 16h weekly goal</p>
                </div>

                <!-- Badges -->
                <div class="bg-white rounded-xl p-6 card-shadow">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">üèÜ Achievements</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <div class="bg-green-100 rounded-lg p-3 text-center badge-glow">
                            <div class="text-2xl mb-1">üî•</div>
                            <p class="text-xs font-medium text-green-800">7-Day Streak</p>
                        </div>
                        <div class="bg-blue-100 rounded-lg p-3 text-center">
                            <div class="text-2xl mb-1">üìö</div>
                            <p class="text-xs font-medium text-blue-800">Study Master</p>
                        </div>
                        <div class="bg-purple-100 rounded-lg p-3 text-center">
                            <div class="text-2xl mb-1">‚≠ê</div>
                            <p class="text-xs font-medium text-purple-800">Goal Crusher</p>
                        </div>
                        <div class="bg-orange-100 rounded-lg p-3 text-center">
                            <div class="text-2xl mb-1">üéØ</div>
                            <p class="text-xs font-medium text-orange-800">Consistent</p>
                        </div>
                    </div>
                </div>

                <!-- Study Hours Chart -->
                <div class="bg-white rounded-xl p-6 card-shadow">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">üìä Study Hours by Subject</h3>
                    <canvas id="subjectChart" width="300" height="200"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Plan Modal -->
    <div id="planModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-6 w-full max-w-md mx-4">
            <h3 class="text-xl font-bold text-gray-800 mb-4">Add Weekly Plan</h3>
            <form id="planForm" onsubmit="addPlan(event)">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Subject</label>
                    <select id="planSubject" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option>Mathematics</option>
                        <option>Physics</option>
                        <option>Chemistry</option>
                        <option>Biology</option>
                        <option>English</option>
                        <option>History</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Day</label>
                    <select id="planDay" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="0">Monday</option>
                        <option value="1">Tuesday</option>
                        <option value="2">Wednesday</option>
                        <option value="3">Thursday</option>
                        <option value="4">Friday</option>
                        <option value="5">Saturday</option>
                        <option value="6">Sunday</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Time</label>
                    <input type="time" id="planTime" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Duration (hours)</label>
                    <input type="number" id="planDuration" step="0.5" min="0.5" max="8" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                <div class="flex space-x-3">
                    <button type="button" onclick="hidePlanModal()" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-3 rounded-lg font-medium transition-colors">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors">
                        Add Plan
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Log Modal -->
    <div id="logModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-6 w-full max-w-md mx-4">
            <h3 class="text-xl font-bold text-gray-800 mb-4">Log Study Session</h3>
            <form id="logForm" onsubmit="addLog(event)">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Date</label>
                    <input type="date" id="logDate" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Subject</label>
                    <select id="logSubject" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        <option>Mathematics</option>
                        <option>Physics</option>
                        <option>Chemistry</option>
                        <option>Biology</option>
                        <option>English</option>
                        <option>History</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Duration (hours)</label>
                    <input type="number" id="logDuration" step="0.5" min="0.5" max="8" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Study Amount/Topic</label>
                    <input type="text" id="logAmount" placeholder="e.g., Chapter 5, 20 problems, etc." class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                </div>
                <div class="flex space-x-3">
                    <button type="button" onclick="hideLogModal()" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-3 rounded-lg font-medium transition-colors">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-medium transition-colors">
                        Log Session
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Sample data
        let weeklyPlans = [
            { subject: 'Mathematics', day: 0, time: '14:00', duration: 2 },
            { subject: 'Physics', day: 1, time: '16:00', duration: 1.5 },
            { subject: 'Chemistry', day: 2, time: '15:00', duration: 2 },
            { subject: 'Biology', day: 4, time: '14:00', duration: 1.5 },
            { subject: 'English', day: 5, time: '10:00', duration: 1 }
        ];

        let studySessions = [
            { date: '2024-01-15', subject: 'Mathematics', duration: 2, amount: 'Chapter 3: Derivatives' },
            { date: '2024-01-14', subject: 'Physics', duration: 1.5, amount: 'Newton\'s Laws Problems' },
            { date: '2024-01-13', subject: 'Chemistry', duration: 2, amount: 'Organic Chemistry Lab' },
            { date: '2024-01-12', subject: 'Biology', duration: 1, amount: 'Cell Structure Review' }
        ];

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Set today's date as default
            document.getElementById('logDate').value = new Date().toISOString().split('T')[0];
            
            renderWeeklyCalendar();
            renderStudyLog();
            renderChart();
        });

        function renderWeeklyCalendar() {
            const calendar = document.getElementById('weeklyCalendar');
            calendar.innerHTML = '';
            
            const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
            
            for (let i = 0; i < 7; i++) {
                const dayPlans = weeklyPlans.filter(plan => plan.day === i);
                const dayDiv = document.createElement('div');
                dayDiv.className = 'bg-gray-50 rounded-lg p-3 min-h-24';
                
                if (dayPlans.length > 0) {
                    dayDiv.innerHTML = dayPlans.map(plan => 
                        `<div class="bg-blue-100 text-blue-800 text-xs p-2 rounded mb-1">
                            <div class="font-medium">${plan.subject}</div>
                            <div>${plan.time} (${plan.duration}h)</div>
                        </div>`
                    ).join('');
                } else {
                    dayDiv.innerHTML = '<div class="text-gray-400 text-xs text-center mt-2">No plans</div>';
                }
                
                calendar.appendChild(dayDiv);
            }
        }

        function renderStudyLog() {
            const logContainer = document.getElementById('studyLog');
            logContainer.innerHTML = '';
            
            studySessions.slice(0, 5).forEach(session => {
                const sessionDiv = document.createElement('div');
                sessionDiv.className = 'study-session bg-gray-50 rounded-lg p-4 border-l-4 border-green-500';
                sessionDiv.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <h4 class="font-medium text-gray-800">${session.subject}</h4>
                            <p class="text-sm text-gray-600">${session.amount}</p>
                            <p class="text-xs text-gray-500 mt-1">${session.date}</p>
                        </div>
                        <div class="text-right">
                            <span class="bg-green-100 text-green-800 text-sm px-2 py-1 rounded-full font-medium">
                                ${session.duration}h
                            </span>
                        </div>
                    </div>
                `;
                logContainer.appendChild(sessionDiv);
            });
        }

        function renderChart() {
            const ctx = document.getElementById('subjectChart').getContext('2d');
            
            // Calculate hours per subject
            const subjectHours = {};
            studySessions.forEach(session => {
                subjectHours[session.subject] = (subjectHours[session.subject] || 0) + session.duration;
            });
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: Object.keys(subjectHours),
                    datasets: [{
                        data: Object.values(subjectHours),
                        backgroundColor: [
                            '#3b82f6', '#10b981', '#8b5cf6', '#f59e0b', '#ef4444', '#06b6d4'
                        ],
                        borderRadius: 8,
                        borderSkipped: false,
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                display: false
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        function showPlanModal() {
            document.getElementById('planModal').classList.remove('hidden');
            document.getElementById('planModal').classList.add('flex');
        }

        function hidePlanModal() {
            document.getElementById('planModal').classList.add('hidden');
            document.getElementById('planModal').classList.remove('flex');
        }

        function showLogModal() {
            document.getElementById('logModal').classList.remove('hidden');
            document.getElementById('logModal').classList.add('flex');
        }

        function hideLogModal() {
            document.getElementById('logModal').classList.add('hidden');
            document.getElementById('logModal').classList.remove('flex');
        }

        function addPlan(event) {
            event.preventDefault();
            
            const subject = document.getElementById('planSubject').value;
            const day = parseInt(document.getElementById('planDay').value);
            const time = document.getElementById('planTime').value;
            const duration = parseFloat(document.getElementById('planDuration').value);
            
            weeklyPlans.push({ subject, day, time, duration });
            renderWeeklyCalendar();
            hidePlanModal();
            
            // Reset form
            document.getElementById('planForm').reset();
        }

        function addLog(event) {
            event.preventDefault();
            
            const date = document.getElementById('logDate').value;
            const subject = document.getElementById('logSubject').value;
            const duration = parseFloat(document.getElementById('logDuration').value);
            const amount = document.getElementById('logAmount').value;
            
            studySessions.unshift({ date, subject, duration, amount });
            renderStudyLog();
            renderChart();
            hideLogModal();
            
            // Update stats
            updateStats();
            
            // Reset form
            document.getElementById('logForm').reset();
            document.getElementById('logDate').value = new Date().toISOString().split('T')[0];
        }

        function updateStats() {
            // Calculate total hours this week
            const thisWeek = studySessions.filter(session => {
                const sessionDate = new Date(session.date);
                const today = new Date();
                const weekStart = new Date(today.setDate(today.getDate() - today.getDay() + 1));
                return sessionDate >= weekStart;
            });
            
            const totalHours = thisWeek.reduce((sum, session) => sum + session.duration, 0);
            document.getElementById('weeklyHours').textContent = totalHours.toFixed(1) + 'h';
            
            // Update progress
            const progress = Math.min(Math.round((totalHours / 16) * 100), 100);
            document.getElementById('progressPercent').textContent = progress + '%';
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9891bcf7c02b8dbf',t:'MTc1OTU1MDA2OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
